<div>
    <section class="content-header">
        <h1>系统用户管理
            <small>（总<span>{{totalItems}}</span>条）</small>
        </h1>
    </section>

    <!-- Main content -->
    <section class="content">
        <div class="row">
            <div class="col-md-12">
                <div class="box box-primary">
                    <div class="box-header with-border">
                        <button class="btn btn-default btn-sm"
                                ng-click="addUser()">
                            <i class="fa fa-plus-square-o"></i>
                            新增
                        </button>
                        <button class="btn btn-default btn-sm" ng-click="toggleAdvancedSearch()">
                            <i class="fa fa-search-plus"></i>
                            高级查询
                        </button>
                        <div class="box-tools pull-right" ng-show="!advancedSearch">
                            <div class="has-feedback">
                                <input class="form-control input-sm" type="text"
                                       ng-model="filter.username"
                                       placeholder="请输入用户名">
                                <span class="glyphicon glyphicon-search form-control-feedback"
                                      ng-click="refreshList()"
                                      style="top:-3px;"></span>
                            </div>
                        </div>
                    </div>
                    <div class="box-body">
                        <div class="mailbox-controls" ng-show="advancedSearch">
                            <div class="row">
                                <div class="col-md-offset-1 col-md-10 text-center">
                                    <div class="row">
                                        <div class="col-md-3 form-group"><input
                                                class="form-control input-sm"
                                                type="text"
                                                ng-model="filter.username"
                                                placeholder="请输入用户名"></div>
                                        <div class="col-md-3 form-group"><input
                                                class="form-control input-sm"
                                                type="text"
                                                ng-model="filter.cellphone"
                                                placeholder="请输入联系电话"></div>
                                        <div class="col-md-3 form-group"><input
                                                class="form-control input-sm"
                                                type="text"
                                                ng-model="filter.email"
                                                placeholder="请输入邮箱"></div>
                                        <div class="col-md-3 form-group"><select
                                                class="form-control input-sm"
                                                ng-model="filter.enabled">
                                            <option value="">--状态--</option>
                                            <option value="true">已启用</option>
                                            <option value="false">已禁用</option>
                                        </select></div>
                                    </div>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-md-offset-1 col-md-10 text-center">
                                    <div class="row">
                                        <div class="col-md-offset-4 col-md-4 form-group">
                                            <button class="btn btn-default btn-sm"
                                                    ng-click="refreshList()">
                                                <i class="fa fa-search"></i>
                                                查询
                                            </button>
                                            <button class="btn btn-default btn-sm"
                                                    ng-click="resetFilter()">
                                                <i class="fa fa-reply"></i>
                                                重置
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <table id="userTable"
                               class="table table-hover table-striped">
                            <thead>
                            <th class="username">用户名</th>
                            <th class="oa-phone">联系电话</th>
                            <th>电子邮箱</th>
                            <th class="date-time">创建时间</th>
                            <th class="oa-status">状态</th>
                            <th width="145">操作</th>
                            </thead>
                            <tbody id="userTableBody">
                            <tr ng-repeat="sysuser in sysusers">
                                <td class="username">
                                    <a style="cursor:pointer"
                                       ng-click="showDetail(sysuser);">{{sysuser.username}}</a>
                                </td>
                                <td class="oa-phone">{{sysuser.cellphone}}</td>
                                <td>{{sysuser.email}}</td>
                                <td class="date-time">
                                    {{sysuser.createdAt | date:'yyyy-MM-dd HH:mm:ss'}}
                                </td>
                                <td class="oa-status">
                                    {{sysuser.enabled?'启用':'已禁用'}}
                                </td>
                                <td class="col-resource-status">
                                    <div class="btn-group" ng-show="sysuser.username != 'administrator'">
                                        <button class="btn btn-default btn-xs"
                                                title="编辑"
                                                ng-click="editUser(sysuser.id)">
                                            &nbsp<i class="fa fa-edit"></i>&nbsp
                                        </button>
                                        <button class="btn btn-default btn-xs"
                                                title="删除"
                                                ng-click="deleteUser(sysuser.id)">
                                            &nbsp<i class="fa fa-trash-o"></i>&nbsp
                                        </button>
                                        <button class="btn btn-default btn-xs"
                                                title="禁用"
                                                ng-show="sysuser.enabled"
                                                ng-click="disableUser(sysuser.id)">
                                            &nbsp<i class="fa fa-ban text-red"></i>&nbsp
                                        </button>
                                        <button class="btn btn-default btn-xs"
                                                title="启用"
                                                ng-show="!sysuser.enabled"
                                                ng-click="enableUser(sysuser.id)">
                                            &nbsp<i class="fa fa-check-circle-o text-blue"></i>&nbsp
                                        </button>
                                        <button class="btn btn-default btn-xs"
                                                title="重置密码"
                                                ng-click="changePwd(sysuser.id)">
                                            &nbsp<i class="fa fa-key"></i>&nbsp
                                        </button>
                                    </div>
                                </td>
                            </tr>
                            </tbody>
                        </table>
                        <!--<paging page-data="sysusers" on-goto-page="refreshList(params)"></paging>-->
                    </div>
                    <div class="box-footer no-padding">
                        <div class="mailbox-controls pull-right">
                            <pagination ng-show="sysusers.length > 0" total-items="totalElements"
                                        ng-model="currentPage"
                                        ng-change="pageChanged()"
                                        class="pagination-sm"></pagination>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </section>

</div>
